<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nexus ERP - The Operating System for Modern Education</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sora:wght@600;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #111111; /* A deeper charcoal black */
        color: #a1a1aa; /* Softer gray for text */
      }
      .font-title {
        font-family: "Sora", sans-serif;
      }

      #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #111111;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.5s ease-out;
      }
      .loader {
        width: 48px;
        height: 48px;
        border: 3px solid #1f2937;
        border-top: 3px solid #70ffd9;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      #cursor-dot {
        width: 8px;
        height: 8px;
        background-color: #70ffd9;
        border-radius: 50%;
        position: fixed;
        z-index: 1000;
        pointer-events: none;
        transform: translate(-50%, -50%);
        transition: width 0.2s, height 0.2s;
      }

      .reveal {
        opacity: 0;
        transform: translateY(40px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }
      .reveal.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .spotlight-card {
        position: relative;
        overflow: hidden;
        background: rgba(24, 24, 27, 0.5);
        transform-style: preserve-3d;
        transition: transform 0.5s ease-out;
      }
      .spotlight-card:before {
        content: "";
        position: absolute;
        left: var(--x, 50%);
        top: var(--y, 50%);
        transform: translate(-50%, -50%);
        background: radial-gradient(
          circle at center,
          rgba(112, 255, 217, 0.15),
          transparent 35%
        );
        width: 400px;
        height: 400px;
        opacity: 0;
        transition: opacity 0.3s;
      }
      .spotlight-card:hover:before {
        opacity: 1;
      }

      .timeline-line-container {
        position: absolute;
        left: 50%;
        top: 2.5rem; /* Start below the first icon */
        bottom: 2.5rem; /* End above the last icon */
        width: 2px;
        transform: translateX(-50%);
        overflow: hidden;
      }
      .timeline-line {
        height: 100%;
        width: 100%;
        background: #374151; /* gray-700 */
        transform-origin: top;
        transform: scaleY(0);
        transition: transform 1.5s ease-in-out;
      }
      .reveal.visible .timeline-line {
        transform: scaleY(1);
      }
    </style>
  </head>
  <body class="opacity-0 transition-opacity duration-500">
    <div id="preloader"><div class="loader"></div></div>
    <div id="cursor-dot"></div>

    <div class="flex flex-col min-h-screen">
      <!-- HEADER -->
      <header
        class="sticky top-0 z-50 bg-black/30 backdrop-blur-xl border-b border-gray-800"
      >
        <nav
          class="container mx-auto px-6 py-4 flex justify-between items-center"
        >
          <a href="/" class="flex items-center space-x-3">
            <i
              class="fas fa-network-wired text-mint-400 text-2xl"
              style="color: #70ffd9"
            ></i>
            <span class="text-xl font-bold text-white font-title"
              >Nexus.ERP</span
            >
          </a>
          <div class="flex items-center space-x-4">
            <% if (user) { %>
            <a
              href="/dashboard"
              class="px-4 py-2 text-sm font-semibold rounded-lg text-gray-300 hover:bg-gray-800 transition-colors"
              >Dashboard</a
            >
            <form method="POST" action="/api/v1/auth/logout">
              <button
                class="px-4 py-2 text-sm font-semibold bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors"
              >
                Logout
              </button>
            </form>
            <% } else { %>
            <a
              href="/api/v1/auth/login"
              class="px-4 py-2 text-sm font-semibold rounded-lg text-gray-300 hover:bg-gray-800 transition-colors"
              >Login</a
            >
            <a
              href="/api/v1/auth/register"
              class="px-4 py-2 text-sm font-bold bg-emerald-500 hover:bg-emerald-600 rounded-lg transition-all text-white"
              style="background-color: #00c29a"
              >Register</a
            >
            <% } %>
          </div>
        </nav>
      </header>

      <!-- MAIN CONTENT -->
      <main class="flex-grow">
        <!-- HERO SECTION -->
        <section class="relative py-24 lg:py-32 overflow-hidden">
          <div
            id="hero-animation-container"
            class="absolute inset-0 z-0 opacity-50"
          ></div>
          <div class="container mx-auto px-6 text-center relative z-10">
            <h1
              class="text-4xl md:text-6xl font-extrabold text-white leading-tight reveal font-title"
            >
              The Operating System for Modern Education
            </h1>
            <p
              class="text-gray-400 mt-6 max-w-2xl mx-auto text-lg reveal"
              style="transition-delay: 150ms"
            >
              A unified platform connecting admissions, academics, and
              administration. Drive efficiency and foster collaboration with
              Nexus.
            </p>
            <div class="mt-10 reveal" style="transition-delay: 300ms">
              <a
                href="<%= user ? '/dashboard' : '/api/v1/auth/register' %>"
                class="bg-emerald-500 text-black font-bold py-3 px-8 rounded-lg hover:bg-emerald-600 focus:outline-none focus:ring-4 focus:ring-emerald-500/50 transition-all duration-300 ease-in-out transform hover:scale-105 inline-flex items-center text-base"
                style="background-color: #70ffd9"
              >
                Get Started <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </div>
        </section>

        <!-- BENTO GRID FEATURES SECTION -->
        <section class="py-24 bg-black/20">
          <div class="container mx-auto px-6">
            <div class="text-center mb-16 reveal">
              <h2 class="text-4xl font-bold text-white font-title">
                A Unified Ecosystem
              </h2>
              <p class="text-gray-500 mt-2">
                One platform to manage every facet of your institution.
              </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
              <div
                class="lg:col-span-2 reveal spotlight-card p-8 rounded-2xl border border-gray-800 flex flex-col justify-between"
              >
                <div>
                  <i
                    class="fas fa-shield-alt text-3xl text-emerald-400 mb-4"
                    style="color: #70ffd9"
                  ></i>
                  <h3 class="text-2xl font-bold text-white font-title">
                    Role-Based Architecture
                  </h3>
                  <p class="mt-2 text-gray-400">
                    Secure, granular control ensures admins, teachers, and
                    students access only the information and tools they need. A
                    tailored experience for every user.
                  </p>
                </div>
              </div>
              <div
                class="reveal spotlight-card p-8 rounded-2xl border border-gray-800"
                style="transition-delay: 150ms"
              >
                <i
                  class="fas fa-sitemap text-3xl text-emerald-400 mb-4"
                  style="color: #70ffd9"
                ></i>
                <h3 class="text-2xl font-bold text-white font-title">
                  Department Management
                </h3>
                <p class="mt-2 text-gray-400">
                  Create and manage academic departments with ease, assigning
                  heads and linking them to courses and faculty.
                </p>
              </div>
              <div
                class="reveal spotlight-card p-8 rounded-2xl border border-gray-800"
                style="transition-delay: 300ms"
              >
                <i
                  class="fas fa-calendar-alt text-3xl text-emerald-400 mb-4"
                  style="color: #70ffd9"
                ></i>
                <h3 class="text-2xl font-bold text-white font-title">
                  Dynamic Scheduling
                </h3>
                <p class="mt-2 text-gray-400">
                  Build and view complex class routines with our intuitive,
                  powerful scheduling tools.
                </p>
              </div>
              <div
                class="lg:col-span-2 reveal spotlight-card p-8 rounded-2xl border border-gray-800"
                style="transition-delay: 450ms"
              >
                <i
                  class="fas fa-check-square text-3xl text-emerald-400 mb-4"
                  style="color: #70ffd9"
                ></i>
                <h3 class="text-2xl font-bold text-white font-title">
                  Effortless Attendance
                </h3>
                <p class="mt-2 text-gray-400">
                  A sleek, real-time interface for teachers to mark and manage
                  student attendance, complete with a "Mark All" feature for
                  efficiency.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- HOW IT WORKS TIMELINE -->
        <section class="py-24">
          <div class="container mx-auto px-6">
            <div class="text-center mb-20 reveal">
              <h2 class="text-4xl font-bold text-white font-title">
                A Seamless Workflow
              </h2>
              <p class="text-gray-500 mt-2">
                Connecting every role for unparalleled efficiency.
              </p>
            </div>
            <div class="relative max-w-2xl mx-auto reveal">
              <div class="timeline-line-container">
                <div class="timeline-line"></div>
              </div>
              <div
                class="timeline-item relative flex items-center justify-start mb-24"
              >
                <div class="w-1/2 pr-10 text-right">
                  <div
                    class="p-6 bg-gray-900/50 rounded-lg border border-gray-800"
                  >
                    <h3
                      class="text-xl font-bold text-emerald-400 font-title"
                      style="color: #70ffd9"
                    >
                      1. Administration
                    </h3>
                    <p class="text-gray-400 mt-2">
                      Admins lay the groundwork: creating schools, classes,
                      subjects, and user accounts.
                    </p>
                  </div>
                </div>
                <div
                  class="absolute left-1/2 -translate-x-1/2 w-10 h-10 bg-gray-900 border-2 border-emerald-400 rounded-full flex items-center justify-center text-emerald-400"
                  style="border-color: #70ffd9; color: #70ffd9"
                >
                  <i class="fas fa-user-shield"></i>
                </div>
              </div>
              <div
                class="timeline-item relative flex items-center justify-end mb-24"
              >
                <div class="w-1/2 pl-10 text-left">
                  <div
                    class="p-6 bg-gray-900/50 rounded-lg border border-gray-800"
                  >
                    <h3
                      class="text-xl font-bold text-emerald-400 font-title"
                      style="color: #70ffd9"
                    >
                      2. Management
                    </h3>
                    <p class="text-gray-400 mt-2">
                      Teachers manage their schedules, take attendance, and post
                      announcements for their classes.
                    </p>
                  </div>
                </div>
                <div
                  class="absolute left-1/2 -translate-x-1/2 w-10 h-10 bg-gray-900 border-2 border-emerald-400 rounded-full flex items-center justify-center text-emerald-400"
                  style="border-color: #70ffd9; color: #70ffd9"
                >
                  <i class="fas fa-chalkboard-teacher"></i>
                </div>
              </div>
              <div
                class="timeline-item relative flex items-center justify-start"
              >
                <div class="w-1/2 pr-10 text-right">
                  <div
                    class="p-6 bg-gray-900/50 rounded-lg border border-gray-800"
                  >
                    <h3
                      class="text-xl font-bold text-emerald-400 font-title"
                      style="color: #70ffd9"
                    >
                      3. Engagement
                    </h3>
                    <p class="text-gray-400 mt-2">
                      Students access their personalized routines and stay
                      updated with all academic activities.
                    </p>
                  </div>
                </div>
                <div
                  class="absolute left-1/2 -translate-x-1/2 w-10 h-10 bg-gray-900 border-2 border-emerald-400 rounded-full flex items-center justify-center text-emerald-400"
                  style="border-color: #70ffd9; color: #70ffd9"
                >
                  <i class="fas fa-user-graduate"></i>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- FOOTER -->
      <footer class="bg-gray-900/50 border-t border-gray-800">
        <div class="container mx-auto px-6 py-8">
          <div
            class="flex flex-col md:flex-row justify-between items-center text-center md:text-left"
          >
            <div class="mb-4 md:mb-0">
              <a
                href="/"
                class="flex items-center justify-center md:justify-start space-x-3"
                ><i
                  class="fas fa-network-wired text-emerald-400 text-2xl"
                  style="color: #70ffd9"
                ></i
                ><span class="text-xl font-bold text-white">Nexus.ERP</span></a
              >
            </div>
            <div class="flex space-x-6 text-gray-400">
              <a href="#" class="hover:text-emerald-400 transition-colors"
                ><i class="fab fa-facebook-f"></i></a
              ><a href="#" class="hover:text-emerald-400 transition-colors"
                ><i class="fab fa-twitter"></i></a
              ><a href="#" class="hover:text-emerald-400 transition-colors"
                ><i class="fab fa-linkedin-in"></i
              ></a>
            </div>
          </div>
          <div class="mt-6 text-center text-gray-500 text-sm">
            <p>&copy; 2025 Nexus ERP. All Rights Reserved.</p>
          </div>
        </div>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Pre-loader
        const preloader = document.getElementById("preloader");
        const body = document.querySelector("body");
        window.addEventListener("load", () => {
          preloader.style.opacity = "0";
          body.style.opacity = "1";
          setTimeout(() => {
            preloader.style.display = "none";
          }, 500);
        });

        // Custom Cursor
        const cursorDot = document.getElementById("cursor-dot");
        if (cursorDot) {
          window.addEventListener("mousemove", (e) => {
            cursorDot.style.left = `${e.clientX}px`;
            cursorDot.style.top = `${e.clientY}px`;
          });
        }

        // Scroll Animations
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          { threshold: 0.1 }
        );
        document
          .querySelectorAll(".reveal")
          .forEach((el) => observer.observe(el));

        // Spotlight Card 3D Tilt Effect
        document.querySelectorAll(".spotlight-card").forEach((card) => {
          const rect = card.getBoundingClientRect();
          card.addEventListener("mousemove", (e) => {
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const rotateX = (y / rect.height - 0.5) * -15; // Invert for natural feel
            const rotateY = (x / rect.width - 0.5) * 15;
            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            card.style.setProperty("--x", `${x}px`);
            card.style.setProperty("--y", `${y}px`);
          });
          card.addEventListener("mouseleave", () => {
            card.style.transform = "perspective(1000px) rotateX(0) rotateY(0)";
          });
        });

        // Hero Animation
        const heroContainer = document.getElementById(
          "hero-animation-container"
        );
        if (heroContainer) {
          let scene, camera, renderer, lines;
          let mouseX = 0;
          const windowHalfX = window.innerWidth / 2;

          function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(
              90,
              window.innerWidth / window.innerHeight,
              1,
              4000
            );
            camera.position.z = 1000;

            const material = new THREE.LineBasicMaterial({
              color: 0x70ffd9,
              opacity: 0.2,
              linewidth: 2,
            });

            const points = [];
            const size = 1500;
            const segments = 10;
            const step = size / segments;

            for (let i = -size; i <= size; i += step) {
              points.push(new THREE.Vector3(-size, 0, i));
              points.push(new THREE.Vector3(size, 0, i));
              points.push(new THREE.Vector3(i, 0, -size));
              points.push(new THREE.Vector3(i, 0, size));
            }

            const lineGeometry = new THREE.BufferGeometry().setFromPoints(
              points
            );
            lines = new THREE.LineSegments(lineGeometry, material);
            lines.position.y = -200;
            scene.add(lines);

            renderer = new THREE.WebGLRenderer({
              alpha: true,
              antialias: true,
            });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            heroContainer.appendChild(renderer.domElement);

            document.body.addEventListener("pointermove", onPointerMove);
            window.addEventListener("resize", onWindowResize);
          }

          function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
          }

          function onPointerMove(event) {
            mouseX = event.clientX - windowHalfX;
          }

          function animate() {
            requestAnimationFrame(animate);
            camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.02;
            camera.lookAt(scene.position);

            const time = Date.now() * 0.0001;
            lines.rotation.y = time * 0.2;

            renderer.render(scene, camera);
          }

          init();
          animate();
        }
      });
    </script>
  </body>
</html>
